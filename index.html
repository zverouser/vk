<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Запись в фитнес-клуб</title>
    
    <!-- Подключаем VK Bridge (это для связи с ВКонтакте) -->
    <script src="https://unpkg.com/@vkontakte/vk-bridge@2.1.4/dist/browser.min.js"></script>
    
    <!-- Базовые стили -->
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
        }
        #app {
            max-width: 100%;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- СЮДА ЗАГРУЗИТСЯ ВАШ ВИДЖЕТ -->
        <div id="reservi-widget"></div>
    </div>

    <script>
        // Инициализация VK Bridge (обязательно для работы в ВК)
        vkBridge.send('VKWebAppInit');
        
        // Получаем информацию о пользователе (для статистики)
        vkBridge.send('VKWebAppGetUserInfo')
            .then(user => {
                console.log('Пользователь зашел:', user);
            })
            .catch(error => {
                console.log('Не удалось получить данные пользователя');
            });

        // СОЗДАЕМ СКРИПТ ДЛЯ ВАШЕГО ВИДЖЕТА
        function loadReserviWidget() {
            // Создаем тег <script>
            const script = document.createElement('script');
            
            // Указываем адрес скрипта Reservi.ru
            script.src = 'https://reservi.ru/widget-fit1c.v4/public/init.js';
            
            // Добавляем ваш API ключ
            script.setAttribute('data-fit-apikey', '42e1e4d1-499e-4154-a343-c50637c858c5');
            
            // Указываем тип - расписание
            script.setAttribute('data-type', 'schedule');
            
            // Тема - светлая
            script.setAttribute('data-theme', 'light');
            
            // Настройки с club_id (ваш клуб)
            script.setAttribute('data-settings', JSON.stringify({
                url_data: {
                    club_id: '76f052aa-70d0-11ef-9cd6-00505683c1c3'
                },
                container: '#reservi-widget'  // куда загружать виджет
            }));
            
            // Добавляем скрипт на страницу
            document.head.appendChild(script);
            
            console.log('Виджет Reservi.ru загружается...');
        }

        // Запускаем загрузку виджета, когда страница готова
        document.addEventListener('DOMContentLoaded', loadReserviWidget);
    </script>
</body>
</html>
